from Crypto.PublicKey.ECC import EccPoint
import sys
import pbkdf2
'''
alice
EccKey(curve='NIST P-256', 
point_x=84360158757316102474489308784769212109369580083955678429801724118493510038596,
point_y=14476733644989046053913937990752734962886476822962102205765501575208820715449,
d=52430757882436001073450848868494461800201576612831130525645902718067513982454)
'''

'''
bob
EccKey(curve='NIST P-256', 
point_x=82798565044791509655422946151917951870545993550241933918095834949950406035958, 
point_y=29381252946743148815944515990279382384353042313826986233386583280148803198772, 
d=73042299379144697431426440230897117021808579507477183365934918924919719938168)
'''
P_a  = EccPoint(84360158757316102474489308784769212109369580083955678429801724118493510038596, 14476733644989046053913937990752734962886476822962102205765501575208820715449, curve = 'p256') 
P_b = EccPoint (82798565044791509655422946151917951870545993550241933918095834949950406035958, 29381252946743148815944515990279382384353042313826986233386583280148803198772, curve = 'p256')
d_a = 52430757882436001073450848868494461800201576612831130525645902718067513982454
d_b = 73042299379144697431426440230897117021808579507477183365934918924919719938168
SecretA=d_a*P_b
SecretB=d_b*P_a
key1 = str(SecretA.x)
key2 = str(SecretB.x)
salt = b'\x05;iBi\x17Q\xe0'
key_b_32_bytes = pbkdf2.PBKDF2(key1, salt).read(32)
key_a_32_bytes = pbkdf2.PBKDF2(key2, salt).read(32)
print('after')
print(key_a_32_bytes, key_b_32_bytes)